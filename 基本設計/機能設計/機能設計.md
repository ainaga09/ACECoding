##　3. 機能設計
###　3.1. 機能一覧
#### 【商品閲覧機能群】
 
| 機能ID | 機能カテゴリ   | 機能詳細                                    | 入力データ         | 出力データ       | 備考                        | 優先度 |
|--------|----------------|------------------------------------------------|--------------------|------------------|-----------------------------|--------|
| 101    | 商品一覧表示   | - 商品のサムネイル画像     | 商品選択       | 商品一覧ページ   |                             | 高     |
| 102    | 商品一覧表示  | - 商品名                  | 商品選択            | 商品一覧ページ  |                             | 高     |
| 103    | 商品一覧表示   | - 価格表示                  | 商品選択            | 商品一覧ページ  |                             | 高     |
| 104    | 商品詳細表示   | - 大きな商品画像（複数枚対応）                | 商品ID             | 商品詳細ページ   | 商品の魅力を伝えるUI重視     | 高   |
| 105    | 商品詳細表示   | - 商品説明                   | 商品ID             | 商品詳細ページ   |                             | 高     |
 | 106    | 商品詳細表示   | - 素材                  | 商品ID             | 商品詳細ページ   |                             | 中     |
 | 107    | 商品詳細表示   | - 価格の表示                   | 商品ID             | 商品詳細ページ   |                             | 高     |
---
 
#### 【カート・注文機能群】
 
| 機能ID | 機能カテゴリ   | 機能詳細                                    | 入力データ           | 出力データ             | 備考                    | 優先度 |
|--------|----------------|---------------------------------------------|----------------------|------------------------|-------------------------|--------|
| 201    | カート機能     | - 商品のカート追加                           | 商品選択             | カート内容表示         |                         | 高     |
| 202    | カート機能     | - カート内商品の数量変更                      | 商品選択、数量       | カート内容表示         |                         | 高     |
| 203    | カート機能     | - カートから商品の削除                         | 商品選択             | カート内容表示         |                         | 高     |
| 204    | カート機能     | - 合計金額の計算表示                          | カート内容           | カート内容表示         | 注文金額が5000円以上の場合送料無料、5000円未満の場合一律500円                        | 高     |
| 205    | 注文機能       | - 購入者情報入力（氏名、住所、メール等）      | カート情報、配送先情報 | 注文確認画面           | 非会員購入対応           | 高     |
| 206    | 注文機能       | - 注文確認画面の表示                          | カート情報、購入者情報 | 注文確認画面           |                         | 高     |
| 207    | 注文機能       | - 注文確定処理                               | 注文確認承認         | 注文受付完了画面       |                         | 高     |
 
---
 
#### 【会員登録機能群】
 
| 機能ID | 機能カテゴリ   | 機能詳細                                    | 入力データ                   | 出力データ           | 備考                    | 優先度 |
|--------|----------------|---------------------------------------------|------------------------------|----------------------|-------------------------|--------|
| 301    | 会員登録機能   | - 会員任意登録                             | ユーザ情報（名前、メール、パスワード等） | 会員登録完了画面    | 非会員購入も可能                  | 高     |
| 302  | 認証機能  | -ログイン機能                             | 登録メールアドレス、パスワード | 会員登録情報   | 商品注文時、登録メールアドレス・パスワードを入力することで、会員登録時に登録された氏名・住所等を参照し、注文確認画面にて購入に必要な個人情報が自動入力される。               | 高     |



 
---
 
#### 【スマホ対応機能群】
 
| 機能ID | 機能カテゴリ   | 機能詳細                                    | 入力データ           | 出力データ           | 備考                    | 優先度 |
|--------|----------------|---------------------------------------------|----------------------|----------------------|-------------------------|--------|
| 401    | スマホ対応     | - スマートフォン・タブレット対応のレスポンシブデザイン | 画面サイズ           | レスポンシブUI       | iOS・Android主要ブラウザ対応 | 高     |
| 402    | スマホ対応     | - タッチ操作に適したボタンサイズとレイアウト設計   | 画面サイズ           | タッチ操作対応UI     |                         | 高     |
---

### 3.2. 機能構成図
バックエンドの主要な機能とその関連を示す。
<div class="mermaid">
graph LR
    ECサイト[株式会社〇〇 オンライン販売サイト]
 
    %% 大分類
    ECサイト --> F1[商品閲覧機能群]
    ECサイト --> F2[カート・注文機能群]
    ECサイト --> F3[会員登録・認証機能群]
    ECサイト --> F4[スマホ対応機能群]
 
    %% 商品閲覧機能
    F1 --> F1_1[商品一覧表示]
    F1 --> F1_2[商品詳細表示]
 
    %% 商品一覧表示の子機能
    F1_1 --> F1_1_1[サムネイル画像表示]
    F1_1 --> F1_1_2[商品名表示]
    F1_1 --> F1_1_3[価格表示]
 
    %% 商品詳細表示の子機能
    F1_2 --> F1_2_1[大きな商品画像表示]
    F1_2 --> F1_2_2[商品説明表示]
    F1_2 --> F1_2_3[素材情報表示]
    F1_2 --> F1_2_4[価格の再表示]
 
    %% カート・注文機能群
    F2 --> F2_1[カート機能]
    F2 --> F2_2[注文機能]
 
    F2_1 --> F2_1_1[商品追加]
    F2_1 --> F2_1_2[数量変更]
    F2_1 --> F2_1_3[削除]
    F2_1 --> F2_1_4[合計金額計算]
 
    F2_2 --> F2_2_1[購入者情報入力（非会員）]
    F2_2 --> F2_2_2[注文確認画面]
    F2_2 --> F2_2_3[注文確定]
 
    %% 会員登録
    F3 --> F3_1[会員任意登録]
    F3_1 --> F3_1_1[基本情報登録]
    F3_1 --> F3_1_2[登録完了/エラー画面表示]
    F3 --> F3_2[認証機能]
    F3_2-->F3_2_1[ログイン機能]

    %% スマホ対応機能群
    F4 -->F4_1[レスポンシブデザイン]
    F4 -->F4_2[タッチ操作に適したボタンサイズ・レイアウト設計]
 
 　　

</div>

### 3.3. 主要機能フロー
システムで行われる代表的な操作のフローを示す。
#### 3.3.1 商品購入フロー
<div class="mermaid">
sequenceDiagram
    participant ユーザー
    participant 商品一覧・詳細
    participant カート
    participant 認証
    participant 購入
    participant 注文

    ユーザー->>商品一覧・詳細: 商品一覧を表示要求
    商品一覧・詳細-->>ユーザー: 商品一覧を表示

    ユーザー->>商品一覧・詳細: 商品詳細を表示要求
    商品一覧・詳細-->>ユーザー: 商品詳細を表示

    ユーザー->>カート: 商品をカートに追加
    カート-->>ユーザー: カートに追加完了

    ユーザー->>カート: 購入手続きへ進む
    カート-->>ユーザー: 購入確認画面を表示

    alt ログインする
        ユーザー->>認証: ログイン情報を入力
        認証-->>ユーザー: ログイン成功（個人情報自動入力）
    else ログインしない
        ユーザー->>購入: 購入者情報を手動入力
    end

    購入->>注文: 注文処理依頼
    注文-->>購入: 注文受付完了

    注文-->>ユーザー: 注文完了通知
</div>
- 会員はログインすることで、会員登録時に登録された氏名・住所等が参照され、購入に必要な個人情報が自動入力される。
- 非会員は、購入に必要な個人情報を手動で入力。


#### 3.3.2 新規会員登録フロー
<div class="mermaid">
sequenceDiagram
    participant ユーザー
    participant 会員登録画面
    participant 登録システム

    ユーザー->>会員登録画面: 会員登録画面を開く
    会員登録画面-->>ユーザー: 入力フォームを表示

    ユーザー->>会員登録画面: ユーザー情報を入力して送信
    会員登録画面->>登録システム: 入力情報を送信・バリデーション
    alt 入力に不備あり
        登録システム-->>会員登録画面: エラー情報を返す
        会員登録画面-->>ユーザー: エラーメッセージ表示
    else 入力が有効
        登録システム-->>ユーザー: 登録完了メッセージ
    end

</div>
