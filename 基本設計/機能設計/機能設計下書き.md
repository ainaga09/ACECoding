<div class="mermaid">
graph TD
    A[ECサイト] --> B(商品一覧表示);
    A --> C(商品詳細表示);
    A --> D(カート機能);
    A --> E(注文機能);
    A --> F(会員機能);
    A --> G(スマホ対応機能);

    subgraph B[商品一覧表示]
        B1[101:商品のサムネイル画像]
        B2[102:商品名]
        B3[103:価格表示]
    end

    subgraph C[商品詳細表示]
        C1[104:大きな商品画像（複数枚対応）]
        C2[105:商品説明]
        C3[106:素材]
        C4[107:価格の表示]
    end

     subgraph D[カート機能]
        D1[201:商品のカート追加]
        D2[202:カート内商品の数量変更]
        D3[203:カートからの商品の削除]
        D4[204:合計金額の計算表示]
    end

     subgraph E[注文機能]
        E1[205:購入者情報入力（氏名、住所、メール等）]
        E2[206:注文確認画面の表示]
        E3[207:注文確定処理]
    end

    subgraph F[301:会員登録機能]
    　　F1[301-1:ユーザー情報の保持]
    end
    
    

    style A fill:#f9f,stroke:#333,stroke-width:2px
</div>



<div class="mermaid">
sequenceDiagram
    participant ユーザー
    participant ECサイト
    participant 商品一覧・詳細
    participant カート
    participant ログイン
    participant 決済
    participant 注文

    ユーザー->>商品一覧・詳細: 商品一覧を表示
    商品一覧・詳細-->>ユーザー: 商品一覧を返す

    ユーザー->>商品一覧・詳細: 商品詳細を表示
    商品一覧・詳細-->>ユーザー: 商品詳細を返す

    ユーザー->>カート: 商品をカートに追加
    カート-->>ユーザー: カートに追加完了

    ユーザー->>ECサイト: 購入手続きへ進む
    ECサイト-->>ユーザー: ログインするか確認

    alt ログインする場合
        ユーザー->>ログイン: ログイン情報を入力
        ログイン-->>ECサイト: 認証成功・ユーザー情報取得
    else ログインしない場合
        ECサイト-->>ユーザー: 個人情報を手動入力
    end

    ユーザー->>決済: 決済情報入力・確認
    決済-->>ユーザー: 決済完了

    決済->>注文: 注文処理依頼
    注文-->>決済: 注文受付完了

    注文-->>ユーザー: 注文完了通知
</div>

<div class="mermaid">
graph TD
    A[ECサイト] --> B(商品一覧表示)
    A --> C(商品詳細表示)
    A --> D(カート機能)
    A --> E(注文機能)
    A --> F(会員機能)
    A --> G(スマホ対応機能)

    subgraph B[商品一覧表示]
        B1[101:商品のサムネイル画像]
        B2[102:商品名]
        B3[103:価格表示]
        B1 --> B2 --> B3
    end

    subgraph C[商品詳細表示]
        C1[104:大きな商品画像（複数枚対応）]
        C2[105:商品説明]
        C3[106:素材]
        C4[107:価格の表示]
        C1 --> C2 --> C3 --> C4
    end

    subgraph D[カート機能]
        D1[201:商品のカート追加]
        D2[202:カート内商品の数量変更]
        D3[203:カートからの商品の削除]
        D4[204:合計金額の計算表示]
        D1 --> D2 --> D3 --> D4
    end

    subgraph E[注文機能]
        E1[205:購入者情報入力（氏名、住所、メール等）]
        E2[206:注文確認画面の表示]
        E3[207:注文確定処理]
        E1 --> E2 --> E3
    end

    subgraph F[301:会員登録機能]
        F1[301-1:ユーザー情報の保持]
    end

    style A fill:#f9f,stroke:#333,stroke-width:2px

</div>

<div class="mermaid">
graph TD
    A[ECサイト] --> B(商品一覧表示)
    A --> C(商品詳細表示)
    A --> D(カート機能)
    A --> E(注文機能)
    A --> F(会員機能)
    A --> G(スマホ対応機能)

    %% 商品一覧表示（並列配置）
    subgraph B[商品一覧表示]
        B1[101:商品のサムネイル画像]
        B2[102:商品名]
        B3[103:価格表示]
    end

    %% 商品詳細表示（並列配置）
    subgraph C[商品詳細表示]
        C1[104:大きな商品画像（複数枚対応）]
        C2[105:商品説明]
        C3[106:素材]
        C4[107:価格の表示]
    end

    %% カート機能（分岐あり）
    subgraph D[カート機能]
        D1[201:商品のカート追加]
        D2[202:カート内商品の数量変更]
        D3[203:カートからの商品の削除]
        D4[204:合計金額の計算表示]
        D1 --> D2
        D1 --> D3
        D2 --> D4
        D3 --> D4
    end

    %% 注文機能（順次処理）
    subgraph E[注文機能]
        E1[205:購入者情報入力（氏名、住所、メール等）]
        E2[206:注文確認画面の表示]
        E3[207:注文確定処理]
        E1 --> E2 --> E3
    end

    %% 会員機能（3項目を縦に並べる）
    subgraph F[301:会員登録機能]
        F1[301-1:ユーザー情報の保持]
        F2[301-2:ログイン機能]
        F3[301-3:ログアウト機能]
        F1 --> F2 --> F3
    end

    style A fill:#f9f,stroke:#333,stroke-width:2px

</div>

<div class="mermaid">
sequenceDiagram
    participant ユーザー
    participant 商品一覧・詳細
    participant カート
    participant 認証
    participant 購入
    participant 注文

    ユーザー->>商品一覧・詳細: 商品一覧を表示要求
    商品一覧・詳細-->>ユーザー: 商品一覧を表示

    ユーザー->>商品一覧・詳細: 商品詳細を表示要求
    商品一覧・詳細-->>ユーザー: 商品詳細を表示

    ユーザー->>カート: 商品をカートに追加
    カート-->>ユーザー: カートに追加完了

    ユーザー->>カート: 購入手続きへ進む
    カート-->>ユーザー: 購入確認画面を表示

    alt ログインする
        ユーザー->>認証: ログイン情報を入力
        認証-->>ユーザー: ログイン成功（個人情報自動入力）
    else ログインしない
        ユーザー->>購入: 購入者情報を手動入力
    end

    購入->>注文: 注文処理依頼
    注文-->>購入: 注文受付完了

    注文-->>ユーザー: 注文完了通知

</div>
